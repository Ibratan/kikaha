
server {

	ssl: {
		keystore: "server.keystore"
		truststore: "server.truststore"
		password: "password"
	}

	auth {
	
		fixed-auth {
			username: "test"
			password: "t357"
			role: "testable-role"
		}

		mechanisms.alternative = kikaha.core.auth.DefaultBasicAuthenticationMechanism

		# a rule inheriting almost everything from default-rule 
		rules: [{
			mechanisms: [ "basic", "alternative" ]
		}]
	}

	routes {
		rewrite = [
			{ virtual-host: "test.localdomain", path: "/admin/{something}", to: "/test/{something}/admin" },
			{ path: "/admin/{something}", to: "/test/{something}/admin" },
			{ virtual-host: "test.localdomain", to: "/test/{something}/admin" },
			{ to: "/test/{something}/admin" },
			{ path: "/{domain}-{action}.jsp?id={id}", to: "/{domain}/{id}/{action}/" }
		]
		reverse = [
			{ path: "/{domain}-{action}.jsp?id={id}", to: "http://{domain}.localhost:8765/{id}/{action}/" }	
		]
	}
}